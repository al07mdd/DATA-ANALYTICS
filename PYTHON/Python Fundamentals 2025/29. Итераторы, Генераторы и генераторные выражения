๐๐ ะฃะะะ 29. ะะขะะะะขะะะซ, ะะะะะะะขะะะซ ะ ะะะะะะะขะะะะซะ ะะซะะะะะะะฏ ๐๐

๐ ะะขะะะะขะะ

๐ธะัะตัะธััะตะผัะน ะพะฑัะตะบั  โ ะผะพะถะตั ัะพะดะตัะถะฐัั ะผะฝะพะถะตััะฒะพ ัะปะตะผะตะฝัะพะฒ ะธ ะฟัะตะดะพััะฐะฒะปัะตั ะธั ะฟะพ ะพะดะฝะพะผั.

๐ธะัะตัะฐัะพั โ ะพะฑัะตะบั, ะบะพัะพััะน:

๐ธ* ะกะพะดะตัะถะธั ัััะปะบั ะฝะฐ ะธัะตัะธััะตะผัะน ะพะฑัะตะบั,
๐ธ* ะฅัะฐะฝะธั ัะตะบัััั ะฟะพะทะธัะธั,
๐ธ* ะะพะทะฒะพะปัะตั ะฟะพะปััะฐัั ัะปะตะผะตะฝัั ะฟะพ ะพะดะฝะพะผั.

ะัะฟะพะปัะทัะตััั ะดะปั ัััะตะบัะธะฒะฝะพะน ะพะฑัะฐะฑะพัะบะธ ะดะฐะฝะฝัั, ะพัะพะฑะตะฝะฝะพ ะฑะพะปััะธั.

๐ ะะะขะะะซ `iter()` ะ `next()`

๐ธะะฐะณะธัะตัะบะธะต ะผะตัะพะดั:

* `__iter__()` โ ัะพะทะดะฐัั ะธัะตัะฐัะพั.
* `__next__()` โ ะฒะพะทะฒัะฐัะฐะตั ัะปะตะดัััะธะน ัะปะตะผะตะฝั.

โ
numbers = [10, 20, 30]
iterator = iter(numbers)
print(next(iterator))
print(next(iterator))
print(next(iterator))
```

๐ธ ะัะพะฑะตะฝะฝะพััั: ะฟะพะฒัะพัะฝะพะต ะธัะฟะพะปัะทะพะฒะฐะฝะธะต ะธัะตัะฐัะพัะฐ ะฝะตะฒะพะทะผะพะถะฝะพ โ ะพะฝ "ะธััะตัะฟัะฒะฐะตััั". ๐ธ

๐ ะะจะะะะ `StopIteration`

๐ธ ะะพะทะฝะธะบะฐะตั, ะบะพะณะดะฐ ัะปะตะผะตะฝัั ะฒ ะธัะตัะฐัะพัะต ะทะฐะบะฐะฝัะธะฒะฐัััั.

โ
numbers = [1, 2, 3]
iterator = iter(numbers)
print(next(iterator))
print(next(iterator))
print(next(iterator))
print(next(iterator, None))  # ะะพะทะฒัะฐั None ะฒะผะตััะพ ะพัะธะฑะบะธ
```

---

๐ ะะะ ะะะะะขะะะข `for`

๐ธะฆะธะบะป `for` ะฒ Python ะฟะพะด ะบะฐะฟะพัะพะผ:

1. ะัะทัะฒะฐะตั `iter()` ะดะปั ะพะฑัะตะบัะฐ,
2. ะัะทัะฒะฐะตั `next()` โ ะฟะพะปััะฐะตั ัะปะตะผะตะฝั,
3. ะะฑัะฐะฑะฐััะฒะฐะตั ัะปะตะผะตะฝั,
4. ะะพะฒัะพััะตั, ะฟะพะบะฐ ะฝะต ะฟะพะปััะธั `StopIteration`.

โ
๐ธfor num in [10, 20, 30]:
    print(num)
```

๐ธะะฝะฐะปะพะณ:
iterator = iter([10, 20, 30])
while True:
    try:
        print(next(iterator))
    except StopIteration:
        break
```

๐ ะะะะฃะะฌ `itertools`

๐ธ ะะปั ะฟัะพะดะฒะธะฝััะพะน ัะฐะฑะพัั ั ะธัะตัะฐัะพัะฐะผะธ.

โ
import itertools

# count()
counter = itertools.count(start=1, step=10)
print(next(counter))

# cycle()
cycler = itertools.cycle(["A", "B"])
print(next(cycler))

# chain()
print(list(itertools.chain([1, 2], [3, 4])))

# product()
print(list(itertools.product([1, 2], ['A', 'B'])))

# permutations()
print(list(itertools.permutations(['A', 'B', 'C'], 2)))
```

๐ ะะะะะะะขะะ

๐ธะะตะฝะตัะฐัะพั๐ธ โ ะธัะตัะฐัะพั, ัะพะทะดะฐััะธะน ะทะฝะฐัะตะฝะธั "ะฝะฐ ะปะตัั", ะฐ ะฝะต ะทะฐัะฐะฝะตะต.

๐ธ* ะัะฟะพะปัะทัะตั `yield` ะฒะผะตััะพ `return`
๐ธ* ะะพะทะฒัะฐัะฐะตั ะพะฑัะตะบั ะณะตะฝะตัะฐัะพัะฐ

โ
def generate_values():
    yield 1
    yield 2

gen = generate_values()
print(next(gen))
print(next(gen))
```

๐ ะะะะะะะขะะ ะก ะะะะะะะขะะะ

โ
def count_up_to(n):
    count = 1
    while count <= n:
        yield count
        count += 1

gen = count_up_to(5)
for num in gen:
    print(num)
```

๐ ะะะะะะะขะะะะะ ะะซะะะะะะะ

๐ธ ะญะบะพะฝะพะผะฝัะน ะฐะฝะฐะปะพะณ ัะฟะธัะบะพะฒะพะณะพ ะฒะบะปััะตะฝะธั, ะฝะพ ะฒ ะบััะณะปัั ัะบะพะฑะบะฐั.

โ
squares = (x**2 for x in range(5))
print(next(squares))
```
โ
**ะัะธะผะตั ะฒ `for`:**
for num in (x**2 for x in range(5)):
    print(num)
```
โ
**ะัะตะฝะบะฐ ะฟะฐะผััะธ:**
import sys
list_comp = [x**2 for x in range(10**6)]
gen_expr = (x**2 for x in range(10**6))
print(sys.getsizeof(list_comp))
print(sys.getsizeof(gen_expr))
```
